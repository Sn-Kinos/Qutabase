<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>QUTABASE</title>
	<link href="QB.css" rel="stylesheet">
	<script type="text/javascript" src="brython.js"></script>
	<script type="text/javascript" src="brython_stdlib.js"></script>
</head>
<body onload="brython(1)">
	<form id="Kodex_form" onsubmit="return false;">
		<input type="text" id="kodex_srch">
		<script type="text/python3">
import csv
import os
from browser import document

def keyCode(ev):
	trace = document["kodex_srch"]
	print(trace.value, ev.keyCode)
	if (ev.keyCode == 13):
		func_db_load(trace.text)
	ev.stopPropagation()

document['kodex_srch'].bind('keydown', keyCode)

rarity = ['N, N+, R, R+, SR, SR+, SSR, QR', 'N', 'N+', 'R', 'R+', 'SR', 'SR+', 'SSR', 'QR']
rareColor = ['BRONZE, BRONZE, SILVER, SILVER, GOLD, GOLD, RED', '#DDBC8B', '#DDBC8B', '#B6D8F5', '#B6D8F5', '#FFE746', '#FFE746', '#E10044', '#03C0DA']
rarefont = ['W, W, B, B, B, B, W, W', 'white', 'white', '#0A1533', '#0A1533', '#0A1533', '#0A1533', 'white', 'white']
color = ['BLUE, GREEN, RED', 'blue', 'green', 'red']
role = ['DEF, SPR, ATK', '방어', '회복', '공격']
skilltype = ['ACT, PAS', '액티브', '패시브']
faction = ['ORI, FAN, SF, MIS', '오리엔탈', '판타지', 'SF', '미스터리']
bind = ['+5%, +5%, +6%, +6%, +7%, +8%, +9%, +8%', 0.05, 0.05, 0.06, 0.06, 0.07, 0.08, 0.09, 0.08]

def func_db_load(name):
	with open('qurare.csv', 'rt') as qurare:
		cache = {}
		reader = csv.DictReader(qurare)
		for row in reader:
			cache = dict(row)
			if name == cache['name']:
				document["kodex_name"] = cache['name']
				document["kodex_rarity"] = rarity[int(cache['rarity'])]
				break;

		</script>
	</form>
	<table id="Kodex">
		<tbody>
			<tr>
				<td id="kodex_rarity"
					style="font-size: 28px; color: white;
						background: #E10044;">
					SSR
				</td>
				<td id="kodex_name" colspan="7"
					style="font-size: 28px; color: white;
						background: #E10044;">
					셀라				
				</td>
				<td id="kodex_cost"
					style="font-size: 18px;
						background: #FFEB3B;">
					COST<br>
					26
				</td>
			</tr>
			<tr>
				<td id="kodex_skill" rowspan="2" colspan="3"
					style="font-size: 40px; background: red; color: white;">
					강타 VI
				</td>
				<th>
					역할
				</th>
				<th id="kodex_role" colspan="2">
					공격
				</th>
				<th>
					속성
				</th>
				<th id="kodex_skiltype" colspan="2">
					액티브
				</th>
			</tr>
			<tr>
				<th>
					장르
				</th>
				<th id="kodex_faction" colspan="2">
					판타지
				</th>
				<th>
					그림
				</th>
				<th id="kodex_illustrator" colspan="2">
					달랑게
				</th>
			</tr>
			<tr>
				<th class="kodex_imgRank" colspan="3">
					NORMAL
				</th>
				<th class="kodex_imgRank" colspan="3">
					MAX
				</th>
				<th class="kodex_imgRank" colspan="3">
					MAX+			
				</th>
			</tr>
			<tr>
				<td colspan="3">
					<img src="../17005an.jpg" width="250px">
				</td>
				<td colspan="3">
					<img src="../17005bn.jpg" width="250px">
				</td>
				<td colspan="3">
					<img src="../17005cn.jpg" width="250px">
				</td>
			</tr>
			<tr>
				<th class="kodex_ind" colspan="2">
					스탯
				</th>
				<th class="kodex_ind">
					Lv.1
				</th>
				<th class="kodex_ind">
					MAX
				</th>
				<th class="kodex_bind">
					1결속
				</th>
				<th class="kodex_bind">
					2결속
				</th>
				<th class="kodex_bind">
					3결속
				</th>
				<th class="kodex_bind">
					4결속
				</th>
				<th class="kodex_bind">
					5결속
				</th>
			</tr>
			<tr>
				<td class="kodex_ind" colspan="2">
					HP
				</td>
				<td>
					516
				</td>
				<td>
					3617
				</td>
				<td>
					3943
				</td>
				<td>
					4268
				</td>
				<td>
					4594
				</td>
				<td>
					4919
				</td>
				<td>
					5245
				</td>
			</tr>
			<tr>
				<td class="kodex_ind" colspan="2">
					ATK
				</td>
				<td>
					775
				</td>
				<td>
					5430
				</td>
				<td>
					5919
				</td>
				<td>
					6407
				</td>
				<td>
					6896
				</td>
				<td>
					7385
				</td>
				<td>
					7874
				</td>
			</tr>
			<tr>
				<td class="kodex_ind" colspan="2">
					SPR
				</td>
				<td>
					646
				</td>
				<td>
					4523
				</td>
				<td>
					4930
				</td>
				<td>
					5337
				</td>
				<td>
					5744
				</td>
				<td>
					6151
				</td>
				<td>
					6558
				</td>
			</tr>
		</tbody>
	</table>
</body>
</html>